{"version":3,"file":"1-timer.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from 'flatpickr';\nimport 'flatpickr/dist/flatpickr.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nlet dateEnd;\n\n\nfunction obgEnable(objHtml,flag) {\n if (flag) {\n    objHtml.removeAttribute(\"disabled\");\n } else {\n    objHtml.setAttribute(\"disabled\", \"\");\n }   \n};\n\n\nfunction convertMs(ms) {\n    const second = 1000;\n    const minute = second * 60;\n    const hour = minute * 60;\n    const day = hour * 24;\n    const days = Math.floor(ms / day);\n    const hours = Math.floor((ms % day) / hour);\n    const minutes = Math.floor(((ms % day) % hour) / minute);\n    const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n  \n    return { days, hours, minutes, seconds };\n  };\n\nfunction putTime(id) {\n    const objTime=convertMs(dateEnd-Date.now());\n     if(objTime.seconds<0) {\n        clearInterval(id);\n        obgEnable(inputDate, true);\n        return;\n    };\n    seconds.textContent=`${objTime.seconds}`.padStart(2,\"0\");\n    minutes.textContent=`${objTime.minutes}`.padStart(2,\"0\");\n    hours.textContent=`${objTime.hours}`.padStart(2,\"0\");\n    days.textContent=`${objTime.days}`.padStart(2,\"0\");\n   \n}\n\nconst startBtn = document.querySelector(\"[data-start]\");\nconst seconds = document.querySelector(\"[data-seconds]\");\nconst minutes = document.querySelector(\"[data-minutes]\");\nconst hours = document.querySelector(\"[data-hours]\");\nconst days = document.querySelector(\"[data-days]\");\nconst inputDate = document.querySelector(\"#datetime-picker\");\nlet intervalId = 0;\n\n\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onOpen: function(selectedDates, dateStr, flat) {\n    flat.setDate(new Date(), true) ;\n    obgEnable(startBtn, false); \n  },\n  onClose(selectedDates) {\nif ((selectedDates[0].getTime()-Date.now())<0) {\n    alert(\"Please choose a date in the future\");\n} else {\n    dateEnd=selectedDates[0];\n    obgEnable(startBtn, true);\n} \n    console.log(dateEnd);\n  },\n};\n\n\n\nstartBtn.addEventListener(\"click\", () => {\n    obgEnable(startBtn, false);\n    obgEnable(inputDate, false);\n    intervalId[0] = setInterval(putTime, 1000, intervalId[0]);  \n})\n\n\n\n\n\nflatpickr('#datetime-picker', options);\n"],"names":["dateEnd","obgEnable","objHtml","flag","convertMs","ms","days","hours","minutes","seconds","putTime","id","objTime","inputDate","startBtn","intervalId","options","selectedDates","dateStr","flat","flatpickr"],"mappings":"oGAKA,IAAIA,EAGJ,SAASC,EAAUC,EAAQC,EAAM,CAC5BA,EACDD,EAAQ,gBAAgB,UAAU,EAElCA,EAAQ,aAAa,WAAY,EAAE,CAEvC,CAGA,SAASE,EAAUC,EAAI,CAKnB,MAAMC,EAAO,KAAK,MAAMD,EAAK,KAAG,EAC1BE,EAAQ,KAAK,MAAOF,EAAK,MAAO,IAAI,EACpCG,EAAU,KAAK,MAAQH,EAAK,MAAO,KAAQ,GAAM,EACjDI,EAAU,KAAK,MAASJ,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAS,CAC5C,CAEA,SAASC,EAAQC,EAAI,CACjB,MAAMC,EAAQR,EAAUJ,EAAQ,KAAK,IAAG,CAAE,EACzC,GAAGY,EAAQ,QAAQ,EAAG,CACnB,cAAcD,CAAE,EAChBV,EAAUY,EAAW,EAAI,EACzB,MACR,CACIJ,EAAQ,YAAY,GAAGG,EAAQ,OAAO,GAAG,SAAS,EAAE,GAAG,EACvDJ,EAAQ,YAAY,GAAGI,EAAQ,OAAO,GAAG,SAAS,EAAE,GAAG,EACvDL,EAAM,YAAY,GAAGK,EAAQ,KAAK,GAAG,SAAS,EAAE,GAAG,EACnDN,EAAK,YAAY,GAAGM,EAAQ,IAAI,GAAG,SAAS,EAAE,GAAG,CAErD,CAEA,MAAME,EAAW,SAAS,cAAc,cAAc,EAChDL,EAAU,SAAS,cAAc,gBAAgB,EACjDD,EAAU,SAAS,cAAc,gBAAgB,EACjDD,EAAQ,SAAS,cAAc,cAAc,EAC7CD,EAAO,SAAS,cAAc,aAAa,EAC3CO,EAAY,SAAS,cAAc,kBAAkB,EAC3D,IAAIE,EAAa,EAGjB,MAAMC,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,OAAQ,SAASC,EAAeC,EAASC,EAAM,CAC7CA,EAAK,QAAQ,IAAI,KAAQ,EAAI,EAC7BlB,EAAUa,EAAU,EAAK,CAC1B,EACD,QAAQG,EAAe,CACpBA,EAAc,CAAC,EAAE,QAAS,EAAC,KAAK,IAAK,EAAE,EACxC,MAAM,oCAAoC,GAE1CjB,EAAQiB,EAAc,CAAC,EACvBhB,EAAUa,EAAU,EAAI,GAExB,QAAQ,IAAId,CAAO,CACpB,CACH,EAIAc,EAAS,iBAAiB,QAAS,IAAM,CACrCb,EAAUa,EAAU,EAAK,EACzBb,EAAUY,EAAW,EAAK,EAC1BE,EAAW,CAAC,EAAI,YAAYL,EAAS,IAAMK,EAAW,CAAC,CAAC,CAC5D,CAAC,EAMDK,EAAU,mBAAoBJ,CAAO"}